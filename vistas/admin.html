<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>OLD GUARD</title>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css" />
        <link rel="stylesheet" href="../css/style.css">
    <script src="https://kit.fontawesome.com/6c56692656.js" crossorigin="anonymous"></script>

    </head>
    <body>
        <header>

            <div class="menu container">
                <a href="#" class="logo">Logo</a>
                <input type="checkbox" id="menu">
                <label for="menu"><img src="../img/menuh.png" alt="" width="60px"></label>
                <nav class="navbar">
                        <ul>
                            <li class="corner-item"><a href="#">Inventario</a></li>
                            <li class="corner-item"><a href="#">Generar registro de ventas</a></li>
                        </ul>
                
                </nav>
                <div >
                    <ul style="display: flex;">
                        <li > <div class="divbuscar" >
                            <input  type="search" placeholder="Buscar">
                            <div class="search">
                               <i class="fa fa-search"></i>
                            </div>
                       </div></li>
                        <li class="sudmenu">
                           
                           
                            <img src="../img/carrito.png" id="img-carrito" width="50">
                            
                            <div id="carrito">
                                <table id="lista-carrito">
                                    <thead>
                                        <tr>
                                            <th>Imagen</th>
                                            <th>Nombre</th>
                                            <th>Precio</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <a id="total" class="btn-4"></a>
                                <a href="#" id="vaciar-carrito" class="btn-3">Vaciar carrito</a>
                            </div>
                        </li>
                        <li class="sudmenu">
                            <a href="#" id="icono-usuarios">
                                <img src="../img/user.png" width="41px" onclick="">
                            </a>
                            <div id="sub-menu-usuarios">
                                <!-- Contenido del submenú de usuarios -->
                                <ul>
                                    <li><a href="#">Perfil</a></li>
                                    <li><a href="#">Historial de compras</a></li>
                                    <li><a href="#">Admin</a></li>
                                    <li><a href="#">Cerrar sesión</a></li>
                                </ul>
                            </div>
                        </li>
                        
                </ul>
                </div>
                
            </div>
    </header>

    <h1>Listado de Productos</h1>

    <ul id="productos-lista"></ul>
  
    <button class="btn-3" id="abrir-modal">Agregar Producto</button>
  
    <!-- Modal -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <span class="cerrar-modal" id="cerrar-modal">&times;</span>
        <section class="producto">
            <div class="contenedor">
                <div class="formulario">
                    <form action="agregarproducto.php" method="post" enctype="multipart/form-data">
                        <h2>Agregar Producto</h2>
    
                        <div class="input-contened">
                            <i class="fa-solid fa-envelope"></i>
                            <input type="text" name="nombre" required>
                            <label for="#">Nombre</label>
                        </div>
                        <div class="input-contened">
                            <i class="fa-solid fa-envelope"></i>
                            <input type="text" name="descripcion" required>
                            <label for="#">Descripción</label>
                        </div>
                        <div class="input-contened">
                            <i class="fa-solid fa-envelope"></i>
                            <input type="number" name="precio" required>
                            <label for="#">Precio</label>
                        </div>
                        <div class="input-contened">
                            <i class="fa-solid fa-lock"></i>
                            <input type="file" id="imagen" name="imagen" accept="image/*">
                            <label for="#">Imagen</label>
                        </div>
                        <button class="boton" type="submit">Acceder</button>

                    </form>    
                    <div>
    
                    </div>
                </div>
            </div>
        </section>ype="number" id="precio" step="0.01" required>
  
          <button type="button" onclick="agregarProducto()">Agregar Producto</button>
        </form>
      </div>
    </div>
  

                               
    <main class="products">
        <div class="tabs container">

            <input type="radio" name="tabs" id="tab1" checked="checked"
                class="tabInput" value="1">
            <label for="tab1">God of war</label>

            <div class="tab" id="lista-1">
                <div class="swiper mySwiper-2" id="swiper1">
                    <div class="swiper-wrapper" id="productosSwiper">

                        <script>
    // Ruta del archivo JSON
    const archivoJSON = "../JSON/productos.json";

    // Realizar la solicitud HTTP para obtener el archivo JSON
    fetch(archivoJSON)
        .then(response => response.json())
        .then(data => {
            // Referencia al contenedor de productos
            const productosContainer = document.getElementById("productosSwiper");

            // Iterar sobre el array de objetos
            data.forEach(archivo => {
                // Verificar si el archivo tiene una imagen
                if (archivo.img !== "") {
                    // Crear el HTML para el producto y agregarlo al contenedor
                    productosContainer.innerHTML += `
                <div class="swiper-slide" >
                        <div class="product">
                            <div class="product-img">
                                <img src="${archivo.img}" alt="${archivo.nombre}">
                            </div>
                            <div class="product-txt">
                                <h4>${archivo.nombre}</h4>
                                <p>${archivo.descripcion}</p>
                                <span class="price">$${archivo.precio}</span>
                                <a href="loguin.html" class="agregar-carrito btn-1" data-id="${archivo.id}">Añadir</a>
                            </div>
                        </div>
                        </div>
                    `;
                }
            });

            // Configurar Swiper después de agregar todos los productos
            const swiper = new Swiper('.swiper-container', {
                // Configuración de Swiper
                // ...
            });
        })
        .catch(error => console.error('Error al cargar el archivo JSON:', error));
</script>

                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>



            </div>
        </main>
    
        <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
        <script src="../js/script.js"></script>
    
    <div id="contenido-footer"></div>
    <script>
     const divContenido = document.getElementById('contenido-footer');
     const xhr = new XMLHttpRequest();
     xhr.open('GET', 'footer.html', true);
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         divContenido.innerHTML = xhr.responseText;
       }
     };
     xhr.send();
   </script></body>
</html>